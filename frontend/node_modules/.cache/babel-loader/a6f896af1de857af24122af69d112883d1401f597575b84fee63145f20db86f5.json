{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rga\\\\euromillions-app\\\\frontend\\\\src\\\\pages\\\\SavedGrids.js\",\n  _s = $RefreshSig$();\n// pages/SavedGrids.js\nimport React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchSavedGrids, deleteGrid, updateGridName } from '../redux/actions/gridActions';\nimport LotteryBall from '../components/common/LotteryBall';\nimport { printGrid, exportGrids } from '../services/gridService';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SavedGrids = () => {\n  _s();\n  const {\n    t\n  } = useTranslation();\n  const dispatch = useDispatch();\n  const {\n    savedGrids,\n    loading,\n    error\n  } = useSelector(state => state.grids);\n  const [editingId, setEditingId] = useState(null);\n  const [newName, setNewName] = useState('');\n  const [selectedGrids, setSelectedGrids] = useState([]);\n  useEffect(() => {\n    dispatch(fetchSavedGrids());\n  }, [dispatch]);\n  const handleSelectGrid = id => {\n    if (selectedGrids.includes(id)) {\n      setSelectedGrids(selectedGrids.filter(gridId => gridId !== id));\n    } else {\n      setSelectedGrids([...selectedGrids, id]);\n    }\n  };\n  const handleSelectAll = () => {\n    if (selectedGrids.length === savedGrids.length) {\n      setSelectedGrids([]);\n    } else {\n      setSelectedGrids(savedGrids.map(grid => grid._id));\n    }\n  };\n  const handlePrint = grid => {\n    printGrid(grid);\n  };\n  const handleEdit = grid => {\n    setEditingId(grid._id);\n    setNewName(grid.name);\n  };\n  const handleSaveEdit = async () => {\n    if (editingId && newName.trim()) {\n      try {\n        await dispatch(updateGridName(editingId, newName.trim()));\n        setEditingId(null);\n        setNewName('');\n      } catch (error) {\n        console.error('Error updating grid name:', error);\n      }\n    }\n  };\n  const handleCancelEdit = () => {\n    setEditingId(null);\n    setNewName('');\n  };\n  const handleDelete = async id => {\n    if (window.confirm(t('confirmDeleteGrid'))) {\n      try {\n        await dispatch(deleteGrid(id));\n      } catch (error) {\n        console.error('Error deleting grid:', error);\n      }\n    }\n  };\n  const handleDeleteSelected = async () => {\n    if (selectedGrids.length === 0) return;\n    if (window.confirm(t('confirmDeleteSelectedGrids', {\n      count: selectedGrids.length\n    }))) {\n      try {\n        // Delete grids one by one\n        for (const id of selectedGrids) {\n          await dispatch(deleteGrid(id));\n        }\n        setSelectedGrids([]);\n      } catch (error) {\n        console.error('Error deleting selected grids:', error);\n      }\n    }\n  };\n  const handleExport = async format => {\n    try {\n      const ids = selectedGrids.length > 0 ? selectedGrids : null;\n      const response = await exportGrids(format, ids);\n\n      // Create a download link\n      const url = window.URL.createObjectURL(new Blob([response]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', `grilles-euromillions.${format}`);\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    } catch (error) {\n      console.error('Error exporting grids:', error);\n    }\n  };\n  const handlePrintSelected = () => {\n    if (selectedGrids.length === 0) return;\n\n    // Print each selected grid\n    const selectedGridObjects = savedGrids.filter(grid => selectedGrids.includes(grid._id));\n    for (const grid of selectedGridObjects) {\n      printGrid(grid);\n    }\n  };\n  if (loading && savedGrids.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto px-4 py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold mb-6\",\n        children: t('savedGrids')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4\",\n          children: t('loading')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this);\n  }\n  if (error && savedGrids.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto px-4 py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold mb-6\",\n        children: t('savedGrids')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [t('errorLoadingGrids'), \": \", error]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"mt-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded\",\n          onClick: () => dispatch(fetchSavedGrids()),\n          children: t('tryAgain')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto px-4 py-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold mb-6\",\n      children: t('savedGrids')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg mb-6 flex flex-wrap items-center gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSelectAll,\n        className: \"px-3 py-1 text-sm bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded hover:bg-gray-300 dark:hover:bg-gray-600\",\n        children: selectedGrids.length === savedGrids.length ? t('deselectAll') : t('selectAll')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h-6 border-l border-gray-300 dark:border-gray-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handlePrintSelected,\n        disabled: selectedGrids.length === 0,\n        className: `px-3 py-1 text-sm rounded ${selectedGrids.length === 0 ? 'bg-gray-300 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed' : 'bg-green-500 text-white hover:bg-green-600'}`,\n        children: t('printSelected')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDeleteSelected,\n        disabled: selectedGrids.length === 0,\n        className: `px-3 py-1 text-sm rounded ${selectedGrids.length === 0 ? 'bg-gray-300 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed' : 'bg-red-500 text-white hover:bg-red-600'}`,\n        children: t('deleteSelected')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h-6 border-l border-gray-300 dark:border-gray-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative group\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-3 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600\",\n          children: t('export')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute hidden group-hover:block mt-1 w-32 bg-white dark:bg-gray-800 shadow-lg rounded z-10\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleExport('csv'),\n            className: \"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700\",\n            children: \"CSV\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleExport('json'),\n            className: \"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700\",\n            children: \"JSON\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ml-auto\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/generate\",\n          className: \"px-3 py-1 text-sm bg-purple-500 text-white rounded hover:bg-purple-600\",\n          children: t('generateNewGrids')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), savedGrids.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-10 bg-gray-50 dark:bg-gray-800 rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        className: \"mx-auto h-12 w-12 text-gray-400\",\n        fill: \"none\",\n        viewBox: \"0 0 24 24\",\n        stroke: \"currentColor\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\",\n          strokeWidth: 1,\n          d: \"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"mt-2 text-lg font-medium text-gray-900 dark:text-white\",\n        children: t('noSavedGrids')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-1 text-gray-500 dark:text-gray-400\",\n        children: t('startBySavingGrids')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/generate\",\n          className: \"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700\",\n          children: t('generateGrids')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n      children: savedGrids.map(grid => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow ${selectedGrids.includes(grid._id) ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/20' : 'border-gray-200 dark:border-gray-700'}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: selectedGrids.includes(grid._id),\n              onChange: () => handleSelectGrid(grid._id),\n              className: \"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 19\n            }, this), editingId === grid._id ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-2 flex-1 flex\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: newName,\n                onChange: e => setNewName(e.target.value),\n                className: \"flex-1 border-gray-300 rounded text-sm p-1\",\n                autoFocus: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleSaveEdit,\n                className: \"ml-1 text-green-500 hover:text-green-600\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"h-5 w-5\",\n                  fill: \"none\",\n                  viewBox: \"0 0 24 24\",\n                  stroke: \"currentColor\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M5 13l4 4L19 7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleCancelEdit,\n                className: \"ml-1 text-red-500 hover:text-red-600\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"h-5 w-5\",\n                  fill: \"none\",\n                  viewBox: \"0 0 24 24\",\n                  stroke: \"currentColor\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M6 18L18 6M6 6l12 12\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"ml-2 text-lg font-medium flex-1 truncate\",\n              children: [grid.name || t('unnamedGrid'), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleEdit(grid),\n                className: \"ml-1 text-gray-500 hover:text-blue-500 inline-block\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"h-4 w-4\",\n                  fill: \"none\",\n                  viewBox: \"0 0 24 24\",\n                  stroke: \"currentColor\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 291,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center my-3 flex-wrap\",\n            children: [grid.numbers.map(number => /*#__PURE__*/_jsxDEV(LotteryBall, {\n              number: number,\n              type: \"number\",\n              className: \"m-1\"\n            }, `number-${number}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 21\n            }, this)), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"mx-2 self-center\",\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 19\n            }, this), grid.stars.map(star => /*#__PURE__*/_jsxDEV(LotteryBall, {\n              number: star,\n              type: \"star\",\n              className: \"m-1\"\n            }, `star-${star}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 21\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 17\n          }, this), grid.method && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-600 dark:text-gray-400 mt-2\",\n            children: [t('generatedUsing'), \": \", t(grid.method)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 19\n          }, this), grid.confidence > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-600 dark:text-gray-400\",\n            children: [t('confidence'), \": \", Math.round(grid.confidence * 100), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 flex justify-between gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handlePrint(grid),\n              className: \"flex-1 px-3 py-1 text-sm bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded hover:bg-gray-300 dark:hover:bg-gray-600\",\n              children: t('print')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleDelete(grid._id),\n              className: \"flex-1 px-3 py-1 text-sm bg-red-500 text-white rounded hover:bg-red-600\",\n              children: t('delete')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 15\n        }, this)\n      }, grid._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 5\n  }, this);\n};\n_s(SavedGrids, \"c7AOqN3t3cSooKT6TjcpxKJGk0A=\", false, function () {\n  return [useTranslation, useDispatch, useSelector];\n});\n_c = SavedGrids;\nexport default SavedGrids;\nvar _c;\n$RefreshReg$(_c, \"SavedGrids\");","map":{"version":3,"names":["React","useEffect","useState","useTranslation","useDispatch","useSelector","fetchSavedGrids","deleteGrid","updateGridName","LotteryBall","printGrid","exportGrids","Link","jsxDEV","_jsxDEV","SavedGrids","_s","t","dispatch","savedGrids","loading","error","state","grids","editingId","setEditingId","newName","setNewName","selectedGrids","setSelectedGrids","handleSelectGrid","id","includes","filter","gridId","handleSelectAll","length","map","grid","_id","handlePrint","handleEdit","name","handleSaveEdit","trim","console","handleCancelEdit","handleDelete","window","confirm","handleDeleteSelected","count","handleExport","format","ids","response","url","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","removeChild","handlePrintSelected","selectedGridObjects","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","to","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","type","checked","onChange","value","e","target","autoFocus","numbers","number","stars","star","method","confidence","Math","round","_c","$RefreshReg$"],"sources":["C:/Users/Rga/euromillions-app/frontend/src/pages/SavedGrids.js"],"sourcesContent":["// pages/SavedGrids.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchSavedGrids, deleteGrid, updateGridName } from '../redux/actions/gridActions';\r\nimport LotteryBall from '../components/common/LotteryBall';\r\nimport { printGrid, exportGrids } from '../services/gridService';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst SavedGrids = () => {\r\n  const { t } = useTranslation();\r\n  const dispatch = useDispatch();\r\n  const { savedGrids, loading, error } = useSelector(state => state.grids);\r\n  const [editingId, setEditingId] = useState(null);\r\n  const [newName, setNewName] = useState('');\r\n  const [selectedGrids, setSelectedGrids] = useState([]);\r\n  \r\n  useEffect(() => {\r\n    dispatch(fetchSavedGrids());\r\n  }, [dispatch]);\r\n  \r\n  const handleSelectGrid = (id) => {\r\n    if (selectedGrids.includes(id)) {\r\n      setSelectedGrids(selectedGrids.filter(gridId => gridId !== id));\r\n    } else {\r\n      setSelectedGrids([...selectedGrids, id]);\r\n    }\r\n  };\r\n  \r\n  const handleSelectAll = () => {\r\n    if (selectedGrids.length === savedGrids.length) {\r\n      setSelectedGrids([]);\r\n    } else {\r\n      setSelectedGrids(savedGrids.map(grid => grid._id));\r\n    }\r\n  };\r\n  \r\n  const handlePrint = (grid) => {\r\n    printGrid(grid);\r\n  };\r\n  \r\n  const handleEdit = (grid) => {\r\n    setEditingId(grid._id);\r\n    setNewName(grid.name);\r\n  };\r\n  \r\n  const handleSaveEdit = async () => {\r\n    if (editingId && newName.trim()) {\r\n      try {\r\n        await dispatch(updateGridName(editingId, newName.trim()));\r\n        setEditingId(null);\r\n        setNewName('');\r\n      } catch (error) {\r\n        console.error('Error updating grid name:', error);\r\n      }\r\n    }\r\n  };\r\n  \r\n  const handleCancelEdit = () => {\r\n    setEditingId(null);\r\n    setNewName('');\r\n  };\r\n  \r\n  const handleDelete = async (id) => {\r\n    if (window.confirm(t('confirmDeleteGrid'))) {\r\n      try {\r\n        await dispatch(deleteGrid(id));\r\n      } catch (error) {\r\n        console.error('Error deleting grid:', error);\r\n      }\r\n    }\r\n  };\r\n  \r\n  const handleDeleteSelected = async () => {\r\n    if (selectedGrids.length === 0) return;\r\n    \r\n    if (window.confirm(t('confirmDeleteSelectedGrids', { count: selectedGrids.length }))) {\r\n      try {\r\n        // Delete grids one by one\r\n        for (const id of selectedGrids) {\r\n          await dispatch(deleteGrid(id));\r\n        }\r\n        setSelectedGrids([]);\r\n      } catch (error) {\r\n        console.error('Error deleting selected grids:', error);\r\n      }\r\n    }\r\n  };\r\n  \r\n  const handleExport = async (format) => {\r\n    try {\r\n      const ids = selectedGrids.length > 0 ? selectedGrids : null;\r\n      const response = await exportGrids(format, ids);\r\n      \r\n      // Create a download link\r\n      const url = window.URL.createObjectURL(new Blob([response]));\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.setAttribute('download', `grilles-euromillions.${format}`);\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n    } catch (error) {\r\n      console.error('Error exporting grids:', error);\r\n    }\r\n  };\r\n  \r\n  const handlePrintSelected = () => {\r\n    if (selectedGrids.length === 0) return;\r\n    \r\n    // Print each selected grid\r\n    const selectedGridObjects = savedGrids.filter(grid => \r\n      selectedGrids.includes(grid._id)\r\n    );\r\n    \r\n    for (const grid of selectedGridObjects) {\r\n      printGrid(grid);\r\n    }\r\n  };\r\n  \r\n  if (loading && savedGrids.length === 0) {\r\n    return (\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        <h1 className=\"text-2xl font-bold mb-6\">{t('savedGrids')}</h1>\r\n        <div className=\"text-center py-6\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mx-auto\"></div>\r\n          <p className=\"mt-4\">{t('loading')}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  if (error && savedGrids.length === 0) {\r\n    return (\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        <h1 className=\"text-2xl font-bold mb-6\">{t('savedGrids')}</h1>\r\n        <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\">\r\n          <p>{t('errorLoadingGrids')}: {error}</p>\r\n          <button \r\n            className=\"mt-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded\"\r\n            onClick={() => dispatch(fetchSavedGrids())}\r\n          >\r\n            {t('tryAgain')}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8\">\r\n      <h1 className=\"text-2xl font-bold mb-6\">{t('savedGrids')}</h1>\r\n      \r\n      {/* Actions toolbar */}\r\n      <div className=\"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg mb-6 flex flex-wrap items-center gap-3\">\r\n        <button\r\n          onClick={handleSelectAll}\r\n          className=\"px-3 py-1 text-sm bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded hover:bg-gray-300 dark:hover:bg-gray-600\"\r\n        >\r\n          {selectedGrids.length === savedGrids.length ? t('deselectAll') : t('selectAll')}\r\n        </button>\r\n        \r\n        <div className=\"h-6 border-l border-gray-300 dark:border-gray-600\"></div>\r\n        \r\n        <button\r\n          onClick={handlePrintSelected}\r\n          disabled={selectedGrids.length === 0}\r\n          className={`px-3 py-1 text-sm rounded ${\r\n            selectedGrids.length === 0 \r\n              ? 'bg-gray-300 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed' \r\n              : 'bg-green-500 text-white hover:bg-green-600'\r\n          }`}\r\n        >\r\n          {t('printSelected')}\r\n        </button>\r\n        \r\n        <button\r\n          onClick={handleDeleteSelected}\r\n          disabled={selectedGrids.length === 0}\r\n          className={`px-3 py-1 text-sm rounded ${\r\n            selectedGrids.length === 0 \r\n              ? 'bg-gray-300 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed' \r\n              : 'bg-red-500 text-white hover:bg-red-600'\r\n          }`}\r\n        >\r\n          {t('deleteSelected')}\r\n        </button>\r\n        \r\n        <div className=\"h-6 border-l border-gray-300 dark:border-gray-600\"></div>\r\n        \r\n        <div className=\"relative group\">\r\n          <button\r\n            className=\"px-3 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600\"\r\n          >\r\n            {t('export')}\r\n          </button>\r\n          <div className=\"absolute hidden group-hover:block mt-1 w-32 bg-white dark:bg-gray-800 shadow-lg rounded z-10\">\r\n            <button \r\n              onClick={() => handleExport('csv')}\r\n              className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700\"\r\n            >\r\n              CSV\r\n            </button>\r\n            <button \r\n              onClick={() => handleExport('json')}\r\n              className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700\"\r\n            >\r\n              JSON\r\n            </button>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"ml-auto\">\r\n          <Link \r\n            to=\"/generate\"\r\n            className=\"px-3 py-1 text-sm bg-purple-500 text-white rounded hover:bg-purple-600\"\r\n          >\r\n            {t('generateNewGrids')}\r\n          </Link>\r\n        </div>\r\n      </div>\r\n      \r\n      {savedGrids.length === 0 ? (\r\n        <div className=\"text-center py-10 bg-gray-50 dark:bg-gray-800 rounded-lg\">\r\n          <svg className=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" />\r\n          </svg>\r\n          <h3 className=\"mt-2 text-lg font-medium text-gray-900 dark:text-white\">{t('noSavedGrids')}</h3>\r\n          <p className=\"mt-1 text-gray-500 dark:text-gray-400\">{t('startBySavingGrids')}</p>\r\n          <div className=\"mt-6\">\r\n            <Link\r\n              to=\"/generate\"\r\n              className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700\"\r\n            >\r\n              {t('generateGrids')}\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {savedGrids.map(grid => (\r\n            <div \r\n              key={grid._id} \r\n              className={`border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow ${\r\n                selectedGrids.includes(grid._id) ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/20' : 'border-gray-200 dark:border-gray-700'\r\n              }`}\r\n            >\r\n              <div className=\"p-4\">\r\n                <div className=\"flex items-center mb-3\">\r\n                  <input \r\n                    type=\"checkbox\"\r\n                    checked={selectedGrids.includes(grid._id)}\r\n                    onChange={() => handleSelectGrid(grid._id)}\r\n                    className=\"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500\"\r\n                  />\r\n                  \r\n                  {editingId === grid._id ? (\r\n                    <div className=\"ml-2 flex-1 flex\">\r\n                      <input\r\n                        type=\"text\"\r\n                        value={newName}\r\n                        onChange={(e) => setNewName(e.target.value)}\r\n                        className=\"flex-1 border-gray-300 rounded text-sm p-1\"\r\n                        autoFocus\r\n                      />\r\n                      <button \r\n                        onClick={handleSaveEdit}\r\n                        className=\"ml-1 text-green-500 hover:text-green-600\"\r\n                      >\r\n                        <svg className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n                        </svg>\r\n                      </button>\r\n                      <button \r\n                        onClick={handleCancelEdit}\r\n                        className=\"ml-1 text-red-500 hover:text-red-600\"\r\n                      >\r\n                        <svg className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                        </svg>\r\n                      </button>\r\n                    </div>\r\n                  ) : (\r\n                    <h3 className=\"ml-2 text-lg font-medium flex-1 truncate\">\r\n                      {grid.name || t('unnamedGrid')}\r\n                      <button \r\n                        onClick={() => handleEdit(grid)}\r\n                        className=\"ml-1 text-gray-500 hover:text-blue-500 inline-block\"\r\n                      >\r\n                        <svg className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\" />\r\n                        </svg>\r\n                      </button>\r\n                    </h3>\r\n                  )}\r\n                </div>\r\n                \r\n                <div className=\"flex justify-center my-3 flex-wrap\">\r\n                  {grid.numbers.map(number => (\r\n                    <LotteryBall \r\n                      key={`number-${number}`} \r\n                      number={number} \r\n                      type=\"number\"\r\n                      className=\"m-1\"\r\n                    />\r\n                  ))}\r\n                  <span className=\"mx-2 self-center\">+</span>\r\n                  {grid.stars.map(star => (\r\n                    <LotteryBall \r\n                      key={`star-${star}`} \r\n                      number={star} \r\n                      type=\"star\"\r\n                      className=\"m-1\"\r\n                    />\r\n                  ))}\r\n                </div>\r\n                \r\n                {grid.method && (\r\n                  <div className=\"text-sm text-gray-600 dark:text-gray-400 mt-2\">\r\n                    {t('generatedUsing')}: {t(grid.method)}\r\n                  </div>\r\n                )}\r\n                \r\n                {grid.confidence > 0 && (\r\n                  <div className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                    {t('confidence')}: {Math.round(grid.confidence * 100)}%\r\n                  </div>\r\n                )}\r\n                \r\n                <div className=\"mt-4 flex justify-between gap-2\">\r\n                  <button\r\n                    onClick={() => handlePrint(grid)}\r\n                    className=\"flex-1 px-3 py-1 text-sm bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded hover:bg-gray-300 dark:hover:bg-gray-600\"\r\n                  >\r\n                    {t('print')}\r\n                  </button>\r\n                  <button\r\n                    onClick={() => handleDelete(grid._id)}\r\n                    className=\"flex-1 px-3 py-1 text-sm bg-red-500 text-white rounded hover:bg-red-600\"\r\n                  >\r\n                    {t('delete')}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SavedGrids;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}